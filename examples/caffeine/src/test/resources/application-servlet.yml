spring:
  cache:
    cache-names:
    - buckets_test
    - filterConfigCache
    caffeine:
      spec: maximumSize=1000000,expireAfterAccess=3600s
bucket4j:
  enabled: true
  filter-config-caching-enabled: true
  filter-config-cache-name: filterConfigCache
  filters:
  - id: filter1
    cache-name: buckets_test
    url: ^(/hello).*
    rate-limits:
    - bandwidths:
      - capacity: 5
        time: 10
        unit: seconds
  - id: filter2
    cache-name: buckets_test
    url: ^(/world).*
    rate-limits:
    - bandwidths:
      - capacity: 10
        time: 10
        unit: seconds
  - id: filter3
    cache-name: buckets_test
    url: ^(/secure).*
    rate-limits:
      - post-execute-condition: getStatus() eq 401
        bandwidths:
          - capacity: 5
            time: 10
            unit: seconds